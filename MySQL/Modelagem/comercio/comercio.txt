CREATE DATABASE comercio;

USE comercio;

CREATE TABLE cliente(
	idCliente INT PRIMARY KEY AUTO_INCREMENT,
	nome VARCHAR(30) NOT NULL,
	sexo ENUM('M', 'F') NOT NULL,
	email VARCHAR(50) UNIQUE,
	CPF VARCHAR(15) UNIQUE
);

CREATE TABLE endereco(
	idEndereco INT PRIMARY KEY AUTO_INCREMENT,
	rua VARCHAR(30) NOT NULL,
	bairro VARCHAR(30) NOT NULL,
	cidade VARCHAR(30) NOT NULL,
	estado CHAR(2) NOT NULL,
	id_Cliente INT UNIQUE, -- ESSE UNIQUE VAI DEFINIR O RELACIONAMENTO 1X1 --
	FOREIGN KEY (id_Cliente)
	REFERENCES cliente(idCliente)
);

CREATE TABLE telefone(
	idTelefone INT PRIMARY KEY AUTO_INCREMENT,
	tipo ENUM('RES', 'COM', 'CEL') NOT NULL,
	numero VARCHAR(10) NOT NULL,
	id_Cliente INT,
	FOREIGN KEY (id_Cliente)
	REFERENCES cliente(idCliente)
);

/* REGRAS DE NEGÓCIO PARA AS CHAVES ESTRANGEIRAS */
-- ENDEREÇO É OBRIGATÓRIO --
-- CADASTRO DE SOMENTE UM --
-- TELEFONE NÃO É OBRIGATÓRIO --
-- CADASTRO DE MAIS DE UM É OPCIONAL --

-- FK -> FOREIGN KEY --

/* CHAVE ESTRANGEIRA É A CHAVE PRIMÁRIA DE UMA TABELA (PRIMARY KEY) QUE VAI ATÉ A OUTRA TABELA
PARA FAZER REFERÊNCIA ENTRE REGISTROS */

/* EM RELACIONAMENTOS 1 X 1 A CHAVE ESTRANGEIRA FICA NA TABELA MAIS FRACA */

/* EM RELACIONAMENTOS 1 X N A CHAVE ESTRANGEIRA FICARÁ SEMPRE NA CARDINALIDADE N */

